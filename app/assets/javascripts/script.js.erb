$(document).ready(function(){
  jQuery('.prevent_double_submit').preventDoubleSubmit();
  
  // project creation
  
  
  $(".ajax-form").live("submit", function(){
    var $form = $(this);  
    $form.showLoading();

    $.ajax({
      url: $form.attr("action"),
      type: "POST",
      data: $form.serialize(),
      dataType: 'script',
      success: function(response){
        // 
        // $form.clearForm();
        $form.hideLoading();
      }
    });
    
    return false ; 
  });
  
  
  $(".form_opener, .form_closer").live('click', function(){
    //  open the form 
    $(".no_content_form").toggle();
    
    // hide the no_object_list notification 
    $("#no_object_list").toggle();
    
    // if it is the edit mode 
    $("#display_content").toggle() ;
    return false;
  });
  
  
  
  $(".project-publish-button").toggleButtons({ 
    label: {
      enabled: "PUBLISH",
      disabled: "Draft"
    },
    width: 200,
    onChange: function ($el, status, e) {
        // $el = $('#toggle-button'); 
        // status = [true, false], the value of the checkbox
        // e = the event
        if( status == true ){
          console.log("The status is true");
        }else if(status==false){
          console.log("The status is false");
        }
        // console.log($el, status, e); 
      // fire the data to the server
      //  switch all other main display status as false, return to the 
      // browser to toggle all the button
      // hide showLoading 
    }
  });
  
  $('.project-featured-button').toggleButtons({ 
    label: {
      enabled: "YES",
      disabled: "NO"
    },
    width: 150,
    onChange: function ($el, status, e) {
        // $el = $('#toggle-button'); 
        // status = [true, false], the value of the checkbox
        // e = the event
        if( status == true ){
          console.log("The status is true");
        }else if(status==false){
          console.log("The status is false");
        }
        // console.log($el, status, e); 
      // fire the data to the server
      //  switch all other main display status as false, return to the 
      // browser to toggle all the button
      // hide showLoading 
    }
  });
  
  
  $('.pic-toggle-button').toggleButtons({ 
    label: {
      enabled: "TEASER",
      disabled: "CONTENT"
    },
    width: 150,
    onChange: function ($el, status, e) {
        // $el = $('#toggle-button'); 
        // status = [true, false], the value of the checkbox
        // e = the event
        if( status == true ){
          console.log("The status is true");
        }else if(status==false){
          console.log("The status is false");
        }
        // console.log($el, status, e); 
      // fire the data to the server
      //  switch all other main display status as false, return to the 
      // browser to toggle all the button
      // hide showLoading 
    }
  });
  
  
});