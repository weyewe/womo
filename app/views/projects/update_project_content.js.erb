$(document).ready(function(){
  var $form = $("#edit_object");  
  <% new_form = escape_javascript(  render :partial => "projects/edit_object_form", :locals => {
    :object => @project,
    :url => update_project_content_url(@project)
  })%>
  
  //  hide showLoading 
  $form.hideLoading();  
  $form.replaceWith('<%= new_form %>');  
  var $form = $("#edit_object");  
  
  <% if @has_no_errors == true %>
    <% alert = escape_javascript(render :partial => "layouts/alert", :locals => {
      :success => true , 
      :text => "#{@project.title} is successfully updated."
    }) %>
  <% else %>
  <% alert = escape_javascript(render :partial => "layouts/alert", :locals => {
    :success => false , 
    :text => "Project update is not successful."
  }) %>
  <% end %>
  
  if( $("#alert").length == 0 ){
    $("#form_header").after('<%= alert %>');
  }else{
    $("#alert").replaceWith('<%= alert %>');
  }
  
  setTimeout(function(){ 
      removeElementWithID("alert"); 
      }, 3000);
  
  
  
   
   
  
  
});